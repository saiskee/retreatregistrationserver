<html>

<head>
    <meta charset="utf-8">
    <title>Retreat Registration Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!-- Angular Material requires Angular.js Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>

    <!-- Angular Material Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>
    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">

    <script src = "/scripts/indexapp.js"type="text/javascript">
    </script>

</head>

<body ng-app="myApp" style="background:whitesmoke;">


    <div class="container">
        <!--Change the border color if input of box is invalid-->
        <style>
            input.ng-invalid {
                background-color: rgb(253, 215, 215);
            }
        </style>

        <div style="text-align:center;color:rgb(70, 137, 244)">
            <h3>
                <b>Retreat Registration Form</b>
            </h3>
        </div>

        <div ng-controller="ContactController">

            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Main Registree">
                    <md-content class="md-padding" style="background-color:whitesmoke">
                        <form role="form" name="mainform" class="">

                            <div class="form-group">

                                <label  for="name"> Name:</label>
                                <input type="text" id="name" class="form-control" placeholder="Enter Name " ng-model="registree.name" required>

                            </div>
                            <div class="form-group">
                                <label for="age"> Age:</label>
                                <span>
                                    <input type="number" id="age" class="form-control" min="0" max="100" ng-model="registree.age" required>
                                </span>
                            </div>
                            <div class="form-group" ng-if="!registree.ya && registree.age > 5 && registree.age <= 18">
                                <label>Which group SSE are you in?</label>
                                <br>
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="">Not SSE
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Pre-SSE">Pre-SSE
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 1">Group 1
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 2">Group 2
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 3">Group 3
                                <input type="radio" ng-model="registree.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 4">Group 4
                            </div>
                            <div class="form-group" ng-if="!registree.ssegroup && registree.age >= 17 && registree.age <=40">
                                <label>Are you a YA?</label>
                                <input type="radio" ng-model="registree.ya" id="ssegroup" name="ssegroup" class="form-check-input" ng-value="true">Yes
                                <input type="radio" ng-model="registree.ya" id="ssegroup" name="ssegroup" class="form-check-input" ng-value="false">No
                            </div>
                            <div class="form-group">
                                <label for="gender"> Gender:</label>
                                <input type="radio" ng-model="registree.gender" id="gender" name="gender" class="form-check-input" value="Male">Male
                                <input type="radio" ng-model="registree.gender" id="gender" name="gender" class="form-check-input" value="Female">Female
                            </div>
                            <div class="form-group">
                                <label for="phone"> Phone: </label>
                                <input type="text" id="phone" class="form-control" placeholder="Enter Phone " ng-model="registree.phone" ng-minlength="10" required>
                            </div>
                            <div class="form-group">
                                <label for="email"> Email: </label>
                                <input type="email" id="email" class="form-control" placeholder="Enter Email " ng-model="registree.email" required>
                            </div>
                            <div class="form-group">
                                <label for="address"> Address: </label>
                                <input type="text" class="form-control" placeholder="Enter Home Address (#, Street Address, Town, ZIP) " ng-model="registree.address">
                            </div>
                            <div class="form-group">
                                <label>Is this your first time coming to Retreat?</label>
                                <br>
                                <input type="radio" ng-model="registree.newcomer" ng-value="true" required>
                                <label>Yes&nbsp;</label>
                                <input type="radio" ng-model="registree.newcomer" ng-value="false">
                                <label>&nbsp;No</label>
                            </div>
                            <div class="form-group">
                                <label for="centerselect"> Center: </label>

                                <select class = "form-control" ng-model="registree.centername" id="centerselect" ng-options="x for x in centers" required>
                                    <option value="" disabled selected>Choose your center:</option>
                                </select>

                            </div>
                            <div class="form-group" ng-init="registree.durationofstay = {'friday':false,'saturday':false,'sunday':false}">
                                <label for="durationofstay"> Please check which days will you be staying:</label>
                                <br>
                                <input type="checkbox" name="fridaycheckbox" ng-model="registree.durationofstay['friday']">
                                <label>Friday&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <input type="checkbox" name="saturdaycheckbox" ng-model="registree.durationofstay['saturday']">
                                <label>Saturday&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <input type="checkbox" name="sundaycheckbox" ng-model="registree.durationofstay['sunday']">
                                <label>Sunday</label>
                            </div>
                            <div class="form-group">
                                <label>Will you be needing housing accommodation?</label>
                                <br>
                                <input type="radio" ng-model="registree.accommodation" ng-value="true" required>
                                <label>Yes&nbsp;</label>
                                <input type="radio" ng-model="registree.accommodation" ng-value="false">
                                <label>&nbsp;No</label>
                            </div>
                            <div class="form-group">
                                <label for="dietaryrestrictions">Any Dietary Restrictions?</label>
                                <br>
                                <input  type="textarea" class="form-control" style="width:100%" name="dietaryrestrictions" ng-model="registree.dietaryrestrictions"
                                    placeholder="Please enter any dietary restrictions that you have">
                            </div>
                            <div class="form-group">
                                <label for="specialaccommodations">Will you be needing any special accommodations? (Handicap, etc.) </label>
                                <br>
                                <input  type="textarea" class="form-control" style="width:100%" name="specialaccommodations" ng-model="registree.specialaccommodations"
                                    placeholder="Please enter any special accommodations you need">
                            </div>
                            <br ng-init="forms.push(mainform)">


                        </form>
                    </md-content>
                </md-tab>
                <md-tab ng-repeat="submember in subMembers" label="Registree {{$index+1}}">
                    <md-content class="md-padding">

                        <form role="form" ng-init="submember.mainregistree = registree.name" name="subform" class="well">
                            <span ng-init="submember.accommodation = registree.accommodation"></span>
                            <span ng-init="submember.centername = registree.centername"></span>
                            <span ng-init="submember.address = registree.address"></span>


                            <div class="form-group">

                                <label for="name"> Name:</label>
                                <input type="text" id="name" class="form-control" placeholder="Enter Name " ng-model="submember.name" required>
                            </div>
                            <div class="form-group">
                                <label for="age"> Age:</label>
                                <span>
                                    <input type="number" id="age" class="form-control" min="0" max="100" ng-model="submember.age" required>
                                </span>
                            </div>
                            <div class="form-group" ng-if="!submember.ya && submember.age > 5 && submember.age <= 18">
                                <label>Which group SSE are you in?</label>
                                <br>
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="">Not SSE
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Pre-SSE">Pre-SSE
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 1">Group 1
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 2">Group 2
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 3">Group 3
                                <input type="radio" ng-model="submember.ssegroup" id="ssegroup" name="ssegroup" class="form-check-input" value="Group 4">Group 4
                            </div>
                            <div class="form-group" ng-if="!submember.ssegroup && submember.age >= 17 && submember.age <=40">
                                <label>Are you a YA?</label>
                                <input type="radio" ng-model="submember.ya" id="ssegroup" name="ssegroup" class="form-check-input" ng-value="true">Yes
                                <input type="radio" ng-model="submember.ya" id="ssegroup" name="ssegroup" class="form-check-input" ng-value="false">No
                            </div>
                            <div class="form-group">
                                <label for="gender"> Gender:</label>
                                <input type="radio" ng-model="submember.gender" id="gender" name="gender" class="form-check-input" value="Male" required>Male
                                <input type="radio" ng-model="submember.gender" id="gender" name="gender" class="form-check-input" value="Female">Female
                            </div>
                            <div class="form-group">
                                <label for="phone"> Phone: </label>
                                <input type="text" id="phone" class="form-control" placeholder="Enter Phone " ng-model="submember.phone">
                            </div>
                            <div class="form-group">
                                <label for="email"> Email: </label>
                                <input type="email" id="email" class="form-control" placeholder="Enter Email " ng-model="submember.email">
                            </div>

                            <div class="form-group">
                                <label for="center"> Center: </label>
                                <select ng-model="submember.centername" id="centerselect" ng-options="x for x in centers" required>
                                    <option value="" disabled selected>Choose your center:</option>
                                </select>

                            </div>
                            <div class="form-group" ng-init="submember.durationofstay = {'friday':false,'saturday':false,'sunday':false}">
                                <label for="durationofstay"> Please check which days will you be staying:</label>
                                <br>
                                <input type="checkbox" name="fridaycheckbox" ng-model="submember.durationofstay['friday']">
                                <label>Friday&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <input type="checkbox" name="saturdaycheckbox" ng-model="submember.durationofstay['saturday']">
                                <label>Saturday&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <input type="checkbox" name="sundaycheckbox" ng-model="submember.durationofstay['sunday']">
                                <label>Sunday</label>
                            </div>
                            
                            <div class="form-group">
                                <label>Will you be needing housing accommodation?</label>
                                <br>
                                <input type="radio" ng-model="submember.accommodation" ng-value="true" required>
                                <label>Yes&nbsp;</label>
                                <input type="radio" ng-model="submember.accommodation" ng-value="false">
                                <label>&nbsp;No</label>
                            </div>
                            <div class="form-group">
                                <label for="dietaryrestrictions">Any Dietary Restrictions?</label>
                                <br>
                                <input ng-init="submember.dietaryrestrictions = ''" type="textarea" class="form-control" style="width:100%" name="dietaryrestrictions" ng-model="submember.dietaryrestrictions"
                                    placeholder="Please enter any dietary restrictions that you have">
                            </div>
                            <div class="form-group">
                                <label for="specialaccommodations">Will you be needing any special accommodations? (Handicap, etc.) </label>
                                <br>

                                <input ng-init="forms.push(subform);submember.specialaccommodations=''" type="textarea" class="form-control" style="width:100%" name="specialaccommodations"
                                    ng-model="submember.specialaccommodations" placeholder="Please enter any special accommodations you need">
                            </div>
                        </form>
                    </md-content>
                </md-tab>
            </md-tabs>

            <input type="submit" style="float: left" class="btn btn-primary" ng-show="validateForms()" ng-click="saveRegistrees(registree);"
                value="Submit Forms">
            <input type="button" style="float: right" ng-show="mainform.$valid" class="btn btn-success" ng-click="addMember()" value="+ Add Family Member">
            <br>
            <br>
        </div>




    </div>
</body>

</html>